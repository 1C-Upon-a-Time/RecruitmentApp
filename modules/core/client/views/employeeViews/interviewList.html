<div class="animated fadeIn" ng-controller="SlotsController" ng-init="init()">

	<div name="studentSelect" ng-if="selectingStudentInterview">
		Selecting interview for {{student.name}} <br>

		<div ng-repeat="day in days | orderBy:'day'">Interviews for {{day | date}}
			<!-- Interview Slots list -->
			<div class="list-group">

				<a href="" target="_top" id= "autoEmail" class="list-group-item list-group-item-action" ng-click="selectForInterview(interview)" ng-repeat="interview in interviews | orderBy:'startDate' " data-ng-if="(day | date) == (interview.startDate | date) && interview.isAvailable">
					{{interview.startDate | date:'shortTime'}} - {{interview.endDate | date:'shortTime'}}
				</a>

			</div>
		</div>
	</div>

	<div ng-if="!selectingStudentInterview">
		<button ng-click="showSettings=!showSettings">Create Slots</button>
		<div ng-if="showSettings">
			<form name="batchSlotForm">
				Date: <input type="date" name="input" ng-model="batch.inputDate"
       			placeholder="yyyy-MM-dd" min="{{minDate | date:'yyyy-MM-dd'}}"  /> <br>
			
				Add Batch of Slots:<br>
				Time Interval:<br>
				<input type="time" ng-model="batch.startTime"
       			placeholder="HH" step="1800"  />
       			TO
       			<input type="time" ng-model="batch.endTime"
       			placeholder="HH"  step="1800"  />
				<br> Interview Duration:<br>
				<select ng-model="batch.duration" ng-options="x for x in durations"  />
				</select> <br>

				Interviews Per Slot: 
				<select ng-model="batch.interviewsPerSlot" ng-options="x for x in slots"  /><br>
				<button ng-click="addBatch(batch)">ADD</button>
			

			Add Customized Slots:<br>
			Slot:<br>
			<input type="time" ng-model="custom.startTime"
       		placeholder="HH" step="300"  />
       		TO
       		<input type="time" ng-model="custom.endTime"
       		placeholder="HH"  step="300"  /><br>
			<button ng-click="addCustom(custom)">ADD</button>
			</form>
		</div>

		<br>
		<div ng-repeat="day in days | orderBy:'day'">Interviews for {{day | date}}

			<div class="list-group">
				<div ng-repeat="interview in interviews | orderBy:'startDate'" data-ng-if="(day | date) == (interview.startDate | date)">
					<div class="list-group-item list-group-item-action" ng-click="showOptions=!showOptions">
					{{interview.startDate | date:'shortTime'}} - {{interview.endDate | date:'shortTime'}} Student: {{interview.student.name}} Recruiter: {{interview.recruiter.displayName}}
					</div>
					
					<div class="list-group-item list-group-item-info" ng-if="showOptions">
						<select ng-model="recruiter" ng-options="recruiter.displayName for recruiter in recruiters" />
						</select><br>
						<button ng-click="updateInterviewRecruiter(interview, recruiter)">Update</button>
					</div>
				</div>
				
			</div>
		</div>
	</div>
</div>
